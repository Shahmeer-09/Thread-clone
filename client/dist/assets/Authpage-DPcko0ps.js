import{c as W,f as w,u as D,o as G,a as b,b as J,r as v,j as e,d as L,e as $,g as M,R as K,h as P,i as R,F as V,k as Q,l as S,m as j,I as f,B as _,T as q,n as T,p as X,q as Y,s as ee}from"./index-BaGnycZU.js";import{g as te,S as g}from"./chunk-ZHMYA64R-DIeFXQI-.js";import{H as Z,F as y}from"./chunk-7OLJDQMT-CPi3j6qS.js";import{B as C}from"./chunk-PULVB27S-Ctr0RtIK.js";var[se,ne]=W({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),A=w(function(t,r){const a=D("Input",t),{children:d,className:l,...h}=G(t),n=b("chakra-input__group",l),s={},o=te(d),i=a.field;o.forEach(p=>{var x,m;a&&(i&&p.type.id==="InputLeftElement"&&(s.paddingStart=(x=i.height)!=null?x:i.h),i&&p.type.id==="InputRightElement"&&(s.paddingEnd=(m=i.height)!=null?m:i.h),p.type.id==="InputRightAddon"&&(s.borderEndRadius=0),p.type.id==="InputLeftAddon"&&(s.borderStartRadius=0))});const I=o.map(p=>{var x,m;const c=J({size:((x=p.props)==null?void 0:x.size)||t.size,variant:((m=p.props)==null?void 0:m.variant)||t.variant});return p.type.id!=="Input"?v.cloneElement(p,c):v.cloneElement(p,Object.assign(c,s,p.props))});return e.jsx(L.div,{className:n,ref:r,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...a.group},"data-group":!0,...h,children:e.jsx(se,{value:a,children:I})})});A.displayName="InputGroup";var ae=L("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),E=w(function(t,r){var a,d;const{placement:l="left",...h}=t,n=ne(),s=n.field,i={[l==="left"?"insetStart":"insetEnd"]:"0",width:(a=s==null?void 0:s.height)!=null?a:s==null?void 0:s.h,height:(d=s==null?void 0:s.height)!=null?d:s==null?void 0:s.h,fontSize:s==null?void 0:s.fontSize,...n.element};return e.jsx(ae,{ref:r,__css:i,...h})});E.id="InputElement";E.displayName="InputElement";var B=w(function(t,r){const{className:a,...d}=t,l=b("chakra-input__left-element",a);return e.jsx(E,{ref:r,placement:"left",className:l,...d})});B.id="InputLeftElement";B.displayName="InputLeftElement";var k=w(function(t,r){const{className:a,...d}=t,l=b("chakra-input__right-element",a);return e.jsx(E,{ref:r,placement:"right",className:l,...d})});k.id="InputRightElement";k.displayName="InputRightElement";var z=w(function(t,r){const a=$("Link",t),{className:d,isExternal:l,...h}=G(t);return e.jsx(L.a,{target:l?"_blank":void 0,rel:l?"noopener":void 0,ref:r,className:b("chakra-link",d),...h,__css:a})});z.displayName="Link";var H=w((u,t)=>e.jsx(g,{align:"center",...u,direction:"row",ref:t}));H.displayName="HStack";var O=M({displayName:"ViewOffIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),e.jsx("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"})]})}),U=M({displayName:"ViewIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]})});const F=K({key:"authScreen",default:!0});function re(){const u=P(),[t,r]=v.useState({name:"",username:"",email:"",password:""}),[a,d]=v.useState(!1),l=R(F),h=async()=>{var n,s,o;try{const i=await T.post("/user/signup",t);u({title:"success!.",description:`${(n=i==null?void 0:i.data)==null?void 0:n.message}. Now please login `,status:"success",duration:2e3,isClosable:!0}),l(!0)}catch(i){u({title:"Error!.",description:(o=(s=i.response)==null?void 0:s.data)==null?void 0:o.message,status:"error",duration:2e3,isClosable:!0});return}};return e.jsx(V,{align:"center",justify:"center",children:e.jsxs(g,{spacing:8,mx:"auto",maxW:"lg",py:8,px:6,children:[e.jsx(g,{align:"center",children:e.jsx(Z,{fontSize:"4xl",textAlign:"center",children:"Sign up"})}),e.jsx(Q,{method:"post",children:e.jsx(C,{rounded:"lg",bg:S("white","gray.dark"),boxShadow:"lg",p:8,children:e.jsxs(g,{spacing:4,children:[e.jsxs(H,{children:[e.jsx(C,{children:e.jsxs(j,{isRequired:!0,children:[e.jsx(y,{children:"Full Name"}),e.jsx(f,{type:"text",onChange:n=>r({...t,name:n.target.value})})]})}),e.jsx(C,{children:e.jsxs(j,{isRequired:!0,children:[e.jsx(y,{children:"Username"}),e.jsx(f,{type:"text",onChange:n=>r({...t,username:n.target.value})})]})})]}),e.jsxs(j,{id:"email",isRequired:!0,children:[e.jsx(y,{children:"Email address"}),e.jsx(f,{type:"email",onChange:n=>r({...t,email:n.target.value})})]}),e.jsxs(j,{id:"password",isRequired:!0,children:[e.jsx(y,{children:"Password"}),e.jsxs(A,{children:[e.jsx(f,{name:"password",type:a?"text":"password",onChange:n=>r({...t,password:n.target.value})}),e.jsx(k,{h:"full",children:e.jsx(_,{variant:"ghost",onClick:()=>d(n=>!n),children:a?e.jsx(U,{}):e.jsx(O,{})})})]})]}),e.jsx(g,{spacing:10,pt:2,children:e.jsx(_,{onClick:h,loadingText:"Submitting",size:"lg",bg:S("gray.600","gray.700"),color:"white",_hover:{bg:S("gray.700","gray.800")},children:"Sign up"})}),e.jsx(g,{pt:6,children:e.jsxs(q,{align:"center",children:["Already a user? ",e.jsx(z,{color:"blue.400",onClick:()=>{l(!0)},children:"Login"})]})})]})})})]})})}function ie(){const u=P(),t=X(),[r,a]=v.useState(!1),d=R(F),l=R(Y),[h,n]=v.useState({username:"hassan01",password:"hassan1234"}),s=async()=>{var o,i,I,p,x,m;try{const c=await T.post("/user/login",h),N=(o=c==null?void 0:c.data)==null?void 0:o.data;localStorage.setItem("user-info",JSON.stringify(N)),console.log(N),l(N),u({title:"success",description:(i=c==null?void 0:c.data)==null?void 0:i.message,status:"success",duration:5e3,isClosable:!0}),t("/")}catch(c){console.log((p=(I=c.response)==null?void 0:I.data)==null?void 0:p.message),u({title:"Error!.",description:((m=(x=c==null?void 0:c.response)==null?void 0:x.data)==null?void 0:m.message)||c.message,status:"error",duration:2e3,isClosable:!0});return}};return e.jsx(V,{align:"center",justify:"center",children:e.jsxs(g,{spacing:8,mx:"auto",maxW:"lg",py:4,px:6,children:[e.jsx(g,{align:"center",children:e.jsx(Z,{fontSize:"4xl",textAlign:"center",children:"Login"})}),e.jsx(C,{rounded:"lg",bg:S("white","gray.dark"),boxShadow:"lg",p:8,w:{base:"full",sm:"400px"},children:e.jsxs(g,{spacing:4,children:[e.jsxs(j,{isRequired:!0,children:[e.jsx(y,{children:"Username"}),e.jsx(f,{type:"text",name:"username",onChange:o=>{n({...h,username:o.target.value})},defaultValue:h.username})]}),e.jsxs(j,{isRequired:!0,children:[e.jsx(y,{children:"Password"}),e.jsxs(A,{children:[e.jsx(f,{type:r?"text":"password",onChange:o=>{n({...h,password:o.target.value})},defaultValue:h.password}),e.jsx(k,{h:"full",children:e.jsx(_,{variant:"ghost",onClick:()=>a(o=>!o),children:r?e.jsx(U,{}):e.jsx(O,{})})})]})]}),e.jsx(g,{spacing:10,pt:2,children:e.jsx(_,{loadingText:"Submitting",size:"lg",bg:S("gray.600","gray.700"),color:"white",_hover:{bg:S("gray.700","gray.800")},onClick:s,children:"Login"})}),e.jsx(g,{pt:6,children:e.jsxs(q,{align:"center",children:["Don`t hve a account?"," ",e.jsx(z,{color:"blue.400",onClick:()=>{d(!1)},children:"Sign up"})]})})]})})]})})}const de=()=>{const u=ee(F);return e.jsx(e.Fragment,{children:u===!0?e.jsx(ie,{}):e.jsx(re,{})})};export{de as default};
